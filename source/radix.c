while (j++ < size)
{
	if (((head_a >> bit_position) & 1) == 1)
		ra(stack_a)
	else
		pb(stack_a, stack_b)
}

While (stack_b)
	pa(stack_a, stack b)